# =============================================================================
# Superset Production Environment â€” Template
# =============================================================================
# Copy to .env and fill in real values before starting the stack:
#   cp .env.example .env
#
# NEVER commit .env to git. It is listed in .gitignore.
# =============================================================================

# -- Superset ------------------------------------------------------------------
# Generate a strong random key:  openssl rand -base64 42
SUPERSET_SECRET_KEY=CHANGE_ME_TO_A_RANDOM_SECRET

# Image tag for all Superset services (web, worker, scheduler, init)
SUPERSET_IMAGE_TAG=latest

# -- PostgreSQL ----------------------------------------------------------------
POSTGRES_DB=superset
POSTGRES_USER=superset
POSTGRES_PASSWORD=CHANGE_ME_POSTGRES_PASSWORD

# Host and port as seen from the Superset containers (service name in compose)
SUPERSET_DB_HOST=postgres
SUPERSET_DB_PORT=5432

# -- Redis ---------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# -- Bootstrap options ---------------------------------------------------------
# Load example dashboards on first init (yes / no)
SUPERSET_LOAD_EXAMPLES=no

# -- Admin user (created by superset-init on first run) ------------------------
SUPERSET_ADMIN_USERNAME=admin
SUPERSET_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
SUPERSET_ADMIN_EMAIL=admin@example.com

# -- Authentication -----------------------------------------------------------
# DB = local database auth (default), OAUTH = OIDC/OAuth2 via IdP
AUTH_TYPE=DB

# -- OIDC / OAuth2 (only used when AUTH_TYPE=OAUTH) --------------------------
# OIDC_CLIENT_ID=CHANGE_ME_OIDC_CLIENT_ID
# OIDC_CLIENT_SECRET=CHANGE_ME_OIDC_CLIENT_SECRET
# OIDC_DISCOVERY_URL=https://idp.example.com/.well-known/openid-configuration
# OIDC_SCOPES=openid email profile
# OIDC_REDIRECT_URI=http://localhost:8080/oauth-authorized/oidc
# OIDC_USERNAME_CLAIM=preferred_username
# OIDC_EMAIL_CLAIM=email
# OIDC_GROUPS_CLAIM=groups
# OIDC_ROLES_MAPPING={"superset-admins":["Admin"],"superset-bi-admins":["BI_Admin"],"superset-editors":["BI_Editor"],"superset-viewers":["BI_Viewer"]}
